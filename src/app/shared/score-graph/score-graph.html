<modal-dialog [(open)]="openModal" [title]="selectedSquare?.date">
  <p>
    <ng-template ngFor let-time [ngForOf]="selectedSquare?.times" let-index="index">
      {{index == 0 ? '' : '-'}} <span (click)="copyTime(time)" style="cursor:pointer;">{{time.split(":").slice(0, 2).join(":")}}</span>
    </ng-template> 
  </p>
  <div *ngIf="selectedSquare">
    <p *ngFor="let task of selectedSquare.tasks">[{{task.done ? 'X' : '_'}}] {{task.name}}</p>
    <p *ngIf="selectedSquare.tasks.length == 0">ლ(ಠ益ಠლ)</p>
  </div>
</modal-dialog>

<div class="graph" style="width:100%">
  <ul class="months">
    <li>Jan</li>
    <li>Feb</li>
    <li>Mar</li>
    <li>Apr</li>
    <li>May</li>
    <li>Jun</li>
    <li>Jul</li>
    <li>Aug</li>
    <li>Sep</li>
    <li>Oct</li>
    <li>Nov</li>
    <li>Dec</li>
  </ul>
  <ul class="days">
    <li>Sun</li>
    <li>Mon</li>
    <li>Tue</li>
    <li>Wed</li>
    <li>Thu</li>
    <li>Fri</li>
    <li>Sat</li>
  </ul>
  <ul class="squares">
    <li (click)="selectedSquare = item;openModal = true;" [title]="item.date" style="cursor:pointer" *ngFor="let item of data; index as i" [attr.data-level]="item.level" [shiny-background]="item.color"></li>
  </ul>
</div>
